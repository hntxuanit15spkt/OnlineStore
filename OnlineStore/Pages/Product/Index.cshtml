@page
@using Microsoft.AspNetCore.Http.Extensions
@model OnlineStore.Pages.Product.IndexModel
@{
    ViewData["Title"] = "Index";
    Layout = "~/Pages/Layout/_ProductLayout.cshtml";
}

<div class="col-md-12 product1">
    <div class=" bottom-product">
        @foreach (var item in Model.Items.OrderBy(n => n.Price))
        {
            <div class="col-md-4 bottom-cd simpleCart_shelfItem">
                <div class="product-at ">
                    @*<a href="@Url.Action("XemChiTiet", "SanPham", new {@id = item.Id})">*@
                    <a asp-page="/Product/Detail" asp-route-id="@item.Id">
                        <img class="img-responsive" src="@Url.Content("~/Content/HinhAnhSP/" + item.Image)" alt="" style="width: 150px; height: 150px;">
                        <div class="pro-grid">
                            <span class="buy-in">@item.Price.ToString("#,##") VNĐ</span>
                        </div>
                    </a>
                </div>
                <p class="tun">@item.Name</p>

                <form asp-page="/Cart/Create" data-ajax-method="POST" data-ajax="true" data-ajax-update="divGioHang"
                      data-ajax-mode="replace" asp-route-itemId="@item.Id" asp-route-strUrl="@Request.GetEncodedUrl()" class="btn btn-primary center-block"></form>

                @*@Ajax.ActionLink("Thêm vào giỏ hàng", "ThemGioHangAjax", "GioHang",
                    new { @MaSP = item.MaSP, @strURL = Request.Url.ToString() },
                    new AjaxOptions {
                        HttpMethod = "GET",
                        UpdateTargetId = "divGioHang",
                        InsertionMode = InsertionMode.Replace },
                    new
                        {
                            @class = "btn btn-primary center-block"

                        })*@
            </div>
        }
        <div class="clearfix"> </div>
    </div>

</div>

@{
    var prevDisabled = !Model.Items.HasPreviousPage ? "disabled" : "";
    var nextDisabled = !Model.Items.HasNextPage ? "disabled" : "";
}

<div class="dlink">
    <a asp-page="/Product/Index" asp-route-page="@(Model.Items.PageIndex - 1)" class="btn btn-default @prevDisabled">
        Previous
    </a>
    <a asp-page="/Product/Index" asp-route-page="@(Model.Items.PageIndex + 1)" class="btn btn-default @nextDisabled">
        Next
    </a>
    @*Trang @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber)/@Model.PageCount
        @Html.PagedListPager(Model, page => Url.Action("SanPham", new { page = page, @MaLoaiSP = ViewBag.MaLoaiSP }))*@
</div>

